import{d as e,r as l,o as a,a as u,g as o,f as s,e as n,w as r,b as t,i,t as c,_ as d}from"./index-CdSAAqTC.js";import{i as v}from"./index-B8zeLGbR.js";import{i as f}from"./ipcRenderer-CjF5QmVd.js";const k={id:"app-jobs"},p={class:"one-block-2"},m={class:"one-block-2"},b=d(e({__name:"Index",setup(e){const d=l(""),b=l(0),_=l(0),w=l(0),C=l(0),j=l(0),I=l(0),g=l(0),x=l(0),P=l(0),h=l(0),J=l(0),y=l(0);function N(e,l){const a={jobId:e,type:"timer",action:l};f.invoke(v.framework.someJob,a).then((e=>{if("create"==l)switch(e.jobId){case 1:g.value=e.result.pid;break;case 2:x.value=e.result.pid}}))}function A(e,l){const a={jobId:e,type:"timer",action:l};f.invoke(v.framework.someJobByPool,a).then((e=>{const{jobId:l,result:a}=e;switch(l){case 3:P.value=a.pid;break;case 4:h.value=a.pid;break;case 5:J.value=a.pid;break;case 6:y.value=a.pid}}))}return a((()=>{f.removeAllListeners(v.framework.timerJobProgress),f.removeAllListeners(v.framework.createPoolNotice),f.on(v.framework.timerJobProgress,((e,l)=>{const{jobId:a,pid:u,number:o}=l;switch(a){case 1:b.value=o,g.value=0==u?u:g.value;break;case 2:_.value=o,x.value=0==u?u:x.value;break;case 3:w.value=o,P.value=0==u?u:P.value;break;case 4:C.value=o,h.value=0==u?u:h.value;break;case 5:j.value=o,J.value=0==u?u:J.value;break;case 6:I.value=o,y.value=0==u?u:y.value}})),f.on(v.framework.createPoolNotice,((e,l)=>{d.value=JSON.stringify(l)}))})),(e,l)=>{const a=u("a-button"),L=u("a-space");return t(),o("div",k,[l[31]||(l[31]=s("div",{class:"one-block-1"},[s("span",null," 1. 任务 / 并发任务 ")],-1)),s("div",p,[n(L,null,{default:r((()=>[n(a,{onClick:l[0]||(l[0]=e=>N(1,"create"))},{default:r((()=>l[13]||(l[13]=[i("执行任务1")]))),_:1}),i(" 进度: "+c(b.value)+" , 进程pid: "+c(g.value)+" ",1),n(a,{onClick:l[1]||(l[1]=e=>N(1,"pause"))},{default:r((()=>l[14]||(l[14]=[i("暂停")]))),_:1}),n(a,{onClick:l[2]||(l[2]=e=>N(1,"resume"))},{default:r((()=>l[15]||(l[15]=[i("恢复")]))),_:1}),n(a,{onClick:l[3]||(l[3]=e=>N(1,"close"))},{default:r((()=>l[16]||(l[16]=[i("关闭")]))),_:1})])),_:1}),l[21]||(l[21]=s("p",null,null,-1)),n(L,null,{default:r((()=>[n(a,{onClick:l[4]||(l[4]=e=>N(2,"create"))},{default:r((()=>l[17]||(l[17]=[i("执行任务2")]))),_:1}),i(" 进度: "+c(_.value)+" , 进程pid: "+c(x.value)+" ",1),n(a,{onClick:l[5]||(l[5]=e=>N(2,"pause"))},{default:r((()=>l[18]||(l[18]=[i("暂停")]))),_:1}),n(a,{onClick:l[6]||(l[6]=e=>N(2,"resume"))},{default:r((()=>l[19]||(l[19]=[i("恢复")]))),_:1}),n(a,{onClick:l[7]||(l[7]=e=>N(2,"close"))},{default:r((()=>l[20]||(l[20]=[i("关闭")]))),_:1})])),_:1})]),l[32]||(l[32]=s("div",{class:"one-block-1"},[s("span",null," 2. 任务池 / 并发任务 ")],-1)),s("div",m,[n(L,null,{default:r((()=>[n(a,{onClick:l[8]||(l[8]=e=>{f.send(v.framework.createPool,{number:3})})},{default:r((()=>l[22]||(l[22]=[i("创建进程池")]))),_:1}),i(" 进程pids: "+c(d.value),1)])),_:1}),l[27]||(l[27]=s("p",null,null,-1)),n(L,null,{default:r((()=>[n(a,{onClick:l[9]||(l[9]=e=>A(3,"run"))},{default:r((()=>l[23]||(l[23]=[i("执行任务3")]))),_:1}),i(" 进度: "+c(w.value)+" , 进程pid: "+c(P.value),1)])),_:1}),l[28]||(l[28]=s("p",null,null,-1)),n(L,null,{default:r((()=>[n(a,{onClick:l[10]||(l[10]=e=>A(4,"run"))},{default:r((()=>l[24]||(l[24]=[i("执行任务4")]))),_:1}),i(" 进度: "+c(C.value)+" , 进程pid: "+c(h.value),1)])),_:1}),l[29]||(l[29]=s("p",null,null,-1)),n(L,null,{default:r((()=>[n(a,{onClick:l[11]||(l[11]=e=>A(5,"run"))},{default:r((()=>l[25]||(l[25]=[i("执行任务5")]))),_:1}),i(" 进度: "+c(j.value)+" , 进程pid: "+c(J.value),1)])),_:1}),l[30]||(l[30]=s("p",null,null,-1)),n(L,null,{default:r((()=>[n(a,{onClick:l[12]||(l[12]=e=>A(6,"run"))},{default:r((()=>l[26]||(l[26]=[i("执行任务6")]))),_:1}),i(" 进度: "+c(I.value)+" , 进程pid: "+c(y.value),1)])),_:1})])])}}}),[["__scopeId","data-v-4e3a9770"],["__file","/Users/gsx/www/gofile/src/ee/ee-demo-ts/frontend/src/views/framework/jobs/Index.vue"]]);export{b as default};
